<template>
    <div class="person">
        <h2>å½“æ°´æ¸©è¾¾åˆ°60ï¼Œ æˆ–æ°´ä½è¾¾åˆ°80æ—¶ï¼Œç»™æœåŠ¡å™¨å‘é€è¯·æ±‚</h2>
        <h2>å½“å‰æ°´æ¸©{{ temp }}</h2>
        <h2>å½“å‰æ°´ä½{{ height }}</h2>
        <button @click="changeSum">+æ¸©</button>
        <button @click="changeHeight">+æ°´ä½</button>
    </div>
</template>

<script setup lang="ts" name="Person">
/** 
 * watchEffect: ç«‹å³è¿è¡Œä¸€ä¸ªå‡½æ•°ï¼Œ åŒæ—¶å“åº”å¼çš„è¿½è¸ªå…¶ä¾èµ–ï¼Œ å¹¶åœ¨ä¾èµ–æ›´æ”¹æ—¶é‡æ–°æ‰§è¡Œè¯¥å‡½æ•°ã€‚
 * 
 * watch watchEffectå¯¹æ¯”
 * 1. éƒ½å¯ä»¥ç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œä¸åŒçš„æ˜¯ç›‘å¬æ•°æ®å˜åŒ–çš„æ–¹å¼ä¸åŒã€‚
 * 2. watchéœ€è¦æ˜ç¡®æŒ‡å‡ºç›‘å¬çš„å¯¹è±¡ã€‚
 * 3. watchEffectä¸éœ€è¦æ˜ç¡®æŒ‡å‡ºç›‘å¬çš„å¯¹è±¡ï¼ˆå‡½æ•°ä¸­ç”¨åˆ°äº†å“ªäº›å±æ€§ï¼Œå°±ç›‘å¬å“ªäº›å±æ€§ï¼‰
 */
import { ref, watch, watchEffect } from "vue";

let temp = ref(10);
let height = ref(0);

// watch([temp, height], (newValue)=> {
//     console.log(newValue)
//     let [newTemp , newHeight] = newValue;
//     if (newTemp >= 60 || newHeight >= 80) console.log('æ‰§è¡ŒsendRequestï¼Œ ç”¨ä¸äº†thisï¼ŒğŸ˜­')
    
// })

watchEffect(() => {
    if (temp.value >= 60 || height.value >= 80) console.log('æ‰§è¡ŒsendRequestï¼Œ ç”¨ä¸äº†thisï¼ŒğŸ˜­')
})

function sendRequest() {

}
function changeSum() {
    temp.value += 10;
}

function changeHeight() {
    height.value += 10;
}

</script>

<style scoped>
.person {
    background-color: skyblue;
    box-shadow: 0 0 10px;
    border-radius: 10px;
    padding: 20px;
}
</style>
